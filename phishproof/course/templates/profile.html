{% extends 'base.html' %} {% load static %}

<!-- Title -->
{% block title %} {{ user }} {% endblock %}

<!-- Extra CSS -->
{% block extra_css %}
<link rel="stylesheet" type="text/css" href="{% static 'css/profile.css' %}" />
{% endblock %}

<!-- Content -->
{% block content %}
<div class="profile-container">
	<div class="container">
		<!-- Profile Header -->
		<div class="profile-header">
			<div class="profile-avatar-large"></div>
			<div class="profile-info">
				<h1 class="profile-name">{{ user }}</h1>
				<div class="profile-meta">
					<span class="meta-item">
						<svg
							xmlns="http://www.w3.org/2000/svg"
							width="16"
							height="16"
							viewBox="0 0 24 24"
							fill="none"
							stroke="currentColor"
							stroke-width="2"
							stroke-linecap="round"
							stroke-linejoin="round"
						>
							<rect x="3" y="4" width="18" height="18" rx="2" ry="2" />
							<line x1="16" y1="2" x2="16" y2="6" />
							<line x1="8" y1="2" x2="8" y2="6" />
							<line x1="3" y1="10" x2="21" y2="10" />
						</svg>
						Joined {{ user_since }}
					</span>
				</div>
			</div>
			<div class="profile-actions">
				<button class="btn btn-primary">Edit Profile</button>
			</div>
		</div>

		<!-- Stats Cards -->
		<div class="stats-grid">
			<div class="stat-card">
				<div class="stat-icon courses">
					<svg
						xmlns="http://www.w3.org/2000/svg"
						width="32"
						height="32"
						viewBox="0 0 24 24"
						fill="none"
						stroke="currentColor"
						stroke-width="2"
						stroke-linecap="round"
						stroke-linejoin="round"
					>
						<path d="M3 19a9 9 0 0 1 9 0a9 9 0 0 1 9 0" />
						<path d="M3 6a9 9 0 0 1 9 0a9 9 0 0 1 9 0" />
						<path d="M3 6l0 13" />
						<path d="M12 6l0 13" />
						<path d="M21 6l0 13" />
					</svg>
				</div>
				<div class="stat-content">
					<h3 class="stat-number">{{ completed_courses }}</h3>
					<p class="stat-label">Courses Completed</p>
				</div>
			</div>

			<div class="stat-card">
				<div class="stat-icon achievements">
					<svg
						xmlns="http://www.w3.org/2000/svg"
						width="32"
						height="32"
						viewBox="0 0 24 24"
						fill="none"
						stroke="currentColor"
						stroke-width="2"
						stroke-linecap="round"
						stroke-linejoin="round"
					>
						<path
							d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"
						/>
					</svg>
				</div>
				<div class="stat-content">
					<h3 class="stat-number">8</h3>
					<p class="stat-label">Achievements</p>
				</div>
			</div>

			<div class="stat-card">
				<div class="stat-icon streak">
					<svg
						xmlns="http://www.w3.org/2000/svg"
						width="32"
						height="32"
						viewBox="0 0 24 24"
						fill="none"
						stroke="currentColor"
						stroke-width="2"
						stroke-linecap="round"
						stroke-linejoin="round"
					>
						<path
							d="M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z"
						/>
					</svg>
				</div>
				<div class="stat-content">
					<h3 class="stat-number">15</h3>
					<p class="stat-label">Day Streak</p>
				</div>
			</div>

			<div class="stat-card">
				<div class="stat-icon accuracy">
					<svg
						xmlns="http://www.w3.org/2000/svg"
						width="32"
						height="32"
						viewBox="0 0 24 24"
						fill="none"
						stroke="currentColor"
						stroke-width="2"
						stroke-linecap="round"
						stroke-linejoin="round"
					>
						<path d="M22 12h-4l-3 9L9 3l-3 9H2" />
					</svg>
				</div>
				<div class="stat-content">
					<h3 class="stat-number">89%</h3>
					<p class="stat-label">Accuracy Rate</p>
				</div>
			</div>
		</div>

		<!-- Main Content Grid -->
		<div class="content-grid">
			<!-- User Info -->
			<div class="content-card">
				<div class="card-header">
					<h3>Account Details</h3>
					<a href="/app/settings" class="view-all">Edit Details</a>
				</div>
				<div class="info-list">
					<div class="info-item">
						<div class="info-icon">
							<svg
								xmlns="http://www.w3.org/2000/svg"
								width="20"
								height="20"
								viewBox="0 0 24 24"
								fill="none"
								stroke="currentColor"
								stroke-width="2"
								stroke-linecap="round"
								stroke-linejoin="round"
							>
								<path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2" />
								<circle cx="12" cy="7" r="4" />
							</svg>
						</div>
						<div class="info-content">
							<span class="info-label">Username</span>
							<span class="info-value">{{ user }}</span>
						</div>
					</div>

					<div class="info-item">
						<div class="info-icon">
							<svg
								xmlns="http://www.w3.org/2000/svg"
								width="20"
								height="20"
								viewBox="0 0 24 24"
								fill="none"
								stroke="currentColor"
								stroke-width="2"
								stroke-linecap="round"
								stroke-linejoin="round"
							>
								<path
									d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"
								/>
								<polyline points="22,6 12,13 2,6" />
							</svg>
						</div>
						<div class="info-content">
							<span class="info-label">Email</span>
							<span
								class="info-value {% if not email %}not-provided{% endif %}"
							>
								{% if email %} {{ email }} {% else %} Not provided {% endif %}
							</span>
						</div>
					</div>

					<div class="info-item">
						<div class="info-icon">
							<svg
								xmlns="http://www.w3.org/2000/svg"
								width="20"
								height="20"
								viewBox="0 0 24 24"
								fill="none"
								stroke="currentColor"
								stroke-width="2"
								stroke-linecap="round"
								stroke-linejoin="round"
							>
								<rect x="3" y="4" width="18" height="18" rx="2" ry="2" />
								<line x1="16" y1="2" x2="16" y2="6" />
								<line x1="8" y1="2" x2="8" y2="6" />
								<line x1="3" y1="10" x2="21" y2="10" />
							</svg>
						</div>
						<div class="info-content">
							<span class="info-label">Member Since</span>
							<span class="info-value">{{ user_since }}</span>
						</div>
					</div>

					<div class="info-item">
						<div class="info-icon">
							<svg
								xmlns="http://www.w3.org/2000/svg"
								width="20"
								height="20"
								viewBox="0 0 24 24"
								fill="none"
								stroke="currentColor"
								stroke-width="2"
								stroke-linecap="round"
								stroke-linejoin="round"
							>
								<path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z" />
								<path d="M9 12l2 2 4-4" />
							</svg>
						</div>
						<div class="info-content">
							<span class="info-label">Account Status</span>
							<span class="info-value status-active">
								{% if is_active %} Active {% else %} Inactive {% endif %}
							</span>
						</div>
					</div>
				</div>
			</div>

			<!-- Current Progress -->
			<div class="content-card">
				<div class="card-header">
					<h3>Current Progress</h3>
				</div>
				<div class="progress-list">
					{% for i in courses_in_progress %}
					<div class="progress-item">
						<div class="progress-info">
							<h4>{{ i.course.title }}</h4>
							<span class="progress-percent"> {{ i.progress }}% </span>
						</div>
						<div class="progress-bar">
							<div class="progress-fill" style="width: {{ i.progress }}%"></div>
						</div>
						<p class="progress-details">
							{{ i.modules_done }} of {{ i.course.modules }} modules completed
						</p>
					</div>
					{% endfor %}
				</div>
			</div>
		</div>

		<!-- Achievements Section -->
		<div class="achievements-section">
			<div class="section-header">
				<h3>Recent Achievements</h3>
				<a href="/app/achievements" class="view-all">View All Achievements</a>
			</div>
			<div class="achievements-grid">
				<div class="achievement-badge earned">
					<div class="badge-icon">🛡️</div>
					<h4>First Defense</h4>
					<p>Completed your first security course</p>
				</div>

				<div class="achievement-badge earned">
					<div class="badge-icon">🎯</div>
					<h4>Phishing Detective</h4>
					<p>Identified 10 phishing attempts correctly</p>
				</div>

				<div class="achievement-badge earned">
					<div class="badge-icon">🔥</div>
					<h4>On Fire</h4>
					<p>Maintained a 7-day learning streak</p>
				</div>

				<div class="achievement-badge locked">
					<div class="badge-icon">🏆</div>
					<h4>Security Expert</h4>
					<p>Complete 25 courses</p>
				</div>
			</div>
		</div>
	</div>
</div>
{% endblock %}
